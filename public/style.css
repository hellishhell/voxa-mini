:root {
    --bg-gradient: linear-gradient(135deg, #a1c4fd 0%, #c2e9fb 100%);
    --glass-bg: rgba(255, 255, 255, 0.4);
    --glass-border: rgba(255, 255, 255, 0.5);
    --glass-shadow: 0 8px 32px 0 rgba(31, 38, 135, 0.15);
    --primary: #007AFF;
    --text: #1c1c1e;
}

* { box-sizing: border-box; margin: 0; padding: 0; font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif; }

body { background: var(--bg-gradient); height: 100vh; overflow: hidden; color: var(--text); display: flex; justify-content: center; align-items: center; }

#app { width: 100%; max-width: 500px; height: 100vh; position: relative; }
@media (min-width: 500px) { #app { height: 90vh; border-radius: 30px; } }

.glass-container {
    background: var(--glass-bg); backdrop-filter: blur(20px); -webkit-backdrop-filter: blur(20px);
    border: 1px solid var(--glass-border); box-shadow: var(--glass-shadow);
}

.screen { display: none; flex-direction: column; height: 100%; padding: 20px; }
.screen.active { display: flex; }

h1, h2 { font-weight: 600; margin-bottom: 10px; }

/* Инпуты и кнопки */
.input-group { display: flex; align-items: center; background: rgba(255,255,255,0.6); border-radius: 15px; padding: 10px 15px; margin-bottom: 20px; }
.at-symbol { color: gray; font-size: 1.2rem; margin-right: 5px; }
.input-group input { border: none; background: transparent; font-size: 1.2rem; outline: none; width: 100%; }

.glass-input { width: 100%; padding: 15px; border-radius: 15px; border: 1px solid var(--glass-border); background: rgba(255,255,255,0.6); outline: none; font-size: 1rem; margin-bottom: 15px; backdrop-filter: blur(10px); }

button { background: var(--primary); color: white; border: none; padding: 15px; border-radius: 15px; font-size: 1.1rem; font-weight: 600; cursor: pointer; transition: 0.2s; }
button:active { transform: scale(0.95); opacity: 0.8; }
.secondary-btn { background: rgba(0,0,0,0.1); color: var(--text); margin-top: 10px;}

/* Главный экран */
.header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px; }
.profile-btn { font-size: 1.5rem; cursor: pointer; }
.list-container { flex: 1; overflow-y: auto; }
.user-item { padding: 15px; background: rgba(255,255,255,0.5); border-radius: 15px; margin-bottom: 10px; cursor: pointer; font-weight: 500; display: flex; justify-content: space-between;}
.user-item .online { color: #34C759; font-size: 0.8rem; }

/* Чат */
#chat-messages { flex: 1; overflow-y: auto; display: flex; flex-direction: column; gap: 10px; margin-bottom: 15px; }
.msg { padding: 12px 16px; border-radius: 20px; max-width: 80%; word-wrap: break-word; }
.msg.my { background: var(--primary); color: white; align-self: flex-end; border-bottom-right-radius: 5px; }
.msg.their { background: rgba(255,255,255,0.8); align-self: flex-start; border-bottom-left-radius: 5px; }
.msg img { max-width: 100%; border-radius: 10px; margin-top: 5px; }

.chat-input-area { display: flex; gap: 10px; align-items: center; }
.chat-input-area .glass-input { margin-bottom: 0; }
.attach-btn { font-size: 1.5rem; cursor: pointer; padding: 5px; }
#send-btn { border-radius: 50%; width: 45px; height: 45px; display: flex; justify-content: center; align-items: center; padding: 0; }

.modal { position: absolute; top: 20%; left: 5%; right: 5%; padding: 20px; border-radius: 20px; z-index: 10; display: flex; flex-direction: column; }
.hidden { display: none !important; }
#typing-indicator { font-size: 0.8rem; color: #666; height: 15px;}
